{"version":3,"sources":["../src/main.js"],"names":["$","document","ready","widget","addClass","get","data","swapPage","pageEventHandlers","ajaxSetup","headers","attr","click","type","removeClass","el","location","result","action","window","change","newdate","val","parent","parents","statistics","find","each","index","nf","Intl","NumberFormat","newstat","console","log","html","format","round","fadeOut","appendTo","fadeIn","logout","body","style","opacity","updateWidgetDate","number","precision","pair","split","value","Math"],"mappings":"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","file":"main.js","sourcesContent":["$(document).ready(function(){\r\n  var widget = {\r\n    'nonce' : 'test',\r\n    'client' : 1,\r\n    'file' : ['social-overview', 'website-referrals', 'website-pages']\r\n  };\r\n  $('.brand[data-id=1]').addClass('active');\r\n  $.get('/includes/widgets/widget.php', widget, function(data){\r\n    swapPage(data)\r\n  });\r\n  pageEventHandlers('html');\r\n});\r\n\r\n//Setup CSRF security for AJAX\r\n$.ajaxSetup({\r\n    headers : {\r\n        'csrftoken': $('meta[name=\"csrf-token\"]').attr('content')\r\n    }\r\n});\r\n\r\n//\r\n/// Navigation System\r\n//\r\n$('[data-client]').click(function(){\r\n  var type = $(this).data('id');\r\n  var widget = {\r\n    'nonce' : 'test',\r\n    'client' : type,\r\n    'file' : ['social-overview', 'website-referrals', 'website-pages']\r\n  };\r\n  $('.brand.active').removeClass('active');\r\n  $(this).addClass('loading');\r\n  $.get('/includes/widgets/widget.php', widget, function(data){\r\n    swapPage(data)\r\n    $('.brand.loading').addClass('active');\r\n    $('.brand.active').removeClass('loading');\r\n  });\r\n});\r\nfunction pageEventHandlers(el){\r\n\r\n  $(el + ' [data-navigate]').click(function(el){\r\n    var location = $(this).data('navigate');\r\n    $.get('includes/UI/' + location + '.php', function(result){\r\n      swapPage(result);\r\n    });\r\n  });\r\n  $(el + ' [data-action]').click(function(el){\r\n    var action = $(this).data('action');\r\n    window[action](el);\r\n  });\r\n  $( \".comparison select\" ).change(function() {\r\n    var newdate = $(this).val();\r\n    var parent = $(this).parents('section');\r\n    var statistics = $(parent).find('[data-now]');\r\n    $(statistics).each(function(index){\r\n      var nf = new Intl.NumberFormat();\r\n      var newstat = $(this).attr('data-' + newdate);\r\n        console.log(newstat);\r\n      if(newdate == 'now') {\r\n        var html = $(this).attr('data-now');\r\n      } else {\r\n        if($(this).attr('data-now') >= newstat) {\r\n          var change =  (($(this).attr('data-now') - newstat) / newstat) * 100;\r\n          var html = '<span class=\"positive\">' + nf.format(newstat) + '</span><span class=\"statcaption\">We\\'re up ' + round(change, 2) + '%</span>';\r\n        } else {\r\n          var change =  (($(this).attr('data-now') - newstat) / newstat) * 100;\r\n          var html = '<span class=\"negative\">' + nf.format(newstat) + '</span><span class=\"statcaption\">We\\'re down ' + round(change, 2) + '%</span>';\r\n        }\r\n      }\r\n      $(this).html(html);\r\n    });\r\n  });\r\n}\r\nfunction swapPage(data){\r\n  $('main').fadeOut('fast', function(){\r\n    $('main').html(\"\");\r\n    $(data).appendTo(\"main\");\r\n    pageEventHandlers('main');\r\n    $('main').fadeIn('fast');\r\n  });\r\n}\r\n\r\n//\r\n/// Nav Actions\r\n//\r\nfunction logout(){\r\n  body.style.opacity = '0';\r\n}\r\nfunction updateWidgetDate(el){\r\n}\r\n//\r\n\r\n\r\n//\r\nfunction round(number, precision) {\r\n    var pair = (number + 'e').split('e')\r\n    var value = Math.round(pair[0] + 'e' + (+pair[1] + precision))\r\n    pair = (value + 'e').split('e')\r\n    return +(pair[0] + 'e' + (+pair[1] - precision))\r\n}\r\n"]}