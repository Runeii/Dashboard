{"version":3,"sources":["../src/main.js"],"names":["$","document","ready","widget","pageEventHandlers","ajaxSetup","headers","attr","actions","logout","setDate","updateWidgetDate","click","type","data","get","swapPage","el","location","result","fadeOut","html","appendTo","fadeIn","body","style","opacity","newdate","target","innerHTML","parent","parents","find","removeClass","addClass","statistics","each","index","nf","Intl","NumberFormat","newstat","change","format","round","number","precision","pair","split","value","Math"],"mappings":"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","file":"main.js","sourcesContent":["$(document).ready(function(){\r\n  var widget = {\r\n    'nonce' : 'test',\r\n    'client' : 1,\r\n    'file' : ['social-followers', 'network-overview', 'website-referrals', 'website-pages']\r\n  };\r\n  pageEventHandlers('html');\r\n});\r\n\r\n//Setup CSRF security for AJAX\r\n$.ajaxSetup({\r\n    headers : {\r\n        'CsrfToken': $('meta[name=\"csrf-token\"]').attr('content')\r\n    }\r\n});\r\n\r\nvar actions = {\r\n  logout: logout,\r\n  setDate: updateWidgetDate\r\n};\r\n\r\n//\r\n/// Navigation System\r\n//\r\n$('[data-client]').click(function(){\r\n  var type = $(this).data('id');\r\n  var widget = {\r\n    'nonce' : 'test',\r\n    'client' : type,\r\n    'file' : ['social-followers', 'network-overview', 'website-referrals', 'website-pages']\r\n  };\r\n  $.get('/includes/widgets/widget.php', widget, function(data){\r\n    swapPage(data)\r\n  });\r\n});\r\nfunction pageEventHandlers(el){\r\n  $(el + ' [data-navigate]').click(function(el){\r\n    var type = $(this).data('navtype');\r\n    var location = $(this).data('navigate');\r\n    if(type === 'frame') {\r\n      $.get('includes/UI/' + location + '.php', function(result){\r\n        swapPage(result);\r\n      });\r\n    } else if (type === 'action') {\r\n      actions[location](el);\r\n    }\r\n  });\r\n}\r\nfunction swapPage(data){\r\n  $('main').fadeOut('fast', function(){\r\n    $('main').html(\"\");\r\n    $(data).appendTo(\"main\");\r\n    pageEventHandlers('main');\r\n    $('main').fadeIn('fast');\r\n  });\r\n}\r\n\r\n//\r\n/// Nav Actions\r\n//\r\nfunction logout(){\r\n  body.style.opacity = '0';\r\n}\r\nfunction updateWidgetDate(el){\r\n  var newdate = el.target.innerHTML;\r\n  var parent = $(el.target).parents('article');\r\n  $(parent).find('h5.active').removeClass('active');\r\n  $(el.target).addClass('active');\r\n  var statistics = $(parent).find('[data-now]');\r\n  $(statistics ).each(function(index){\r\n    var nf = new Intl.NumberFormat();\r\n    var newstat = $(this).attr('data-' + newdate);\r\n    if(newdate == 'now') {\r\n      var html = $(this).attr('data-now');\r\n    } else {\r\n      if($(this).attr('data-now') >= newstat) {\r\n        var change =  (($(this).attr('data-now') - newstat) / newstat) * 100;\r\n        var html = '<span class=\"positive\">' + nf.format(newstat) + '</span><span class=\"statcaption\">+' + round(change, 2) + '</span>';\r\n      } else {\r\n        var change =  (($(this).attr('data-now') - newstat) / newstat) * 100;\r\n        var html = '<span class=\"negative\">' + nf.format(newstat) + '</span><span class=\"statcaption\">' + round(change, 2) + '%</span>';\r\n      }\r\n    }\r\n    $(this).html(html);\r\n  });\r\n}\r\nfunction round(number, precision) {\r\n    var pair = (number + 'e').split('e')\r\n    var value = Math.round(pair[0] + 'e' + (+pair[1] + precision))\r\n    pair = (value + 'e').split('e')\r\n    return +(pair[0] + 'e' + (+pair[1] - precision))\r\n}\r\n"]}